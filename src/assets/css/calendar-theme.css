/* unified-theme.css (versão otimizada) */

/* =============== VARIÁVEIS GLOBAIS =============== */
:root {
  /* ---------- Cores Base ---------- */
  --body-bg: #f4f6f9;
  --content-bg: #ffffff;
  --text-color: #2c3e50;
  --primary-color: #3498db;
  --danger-color: #e74c3c;
  --border-color: #e0e0e0;

  /* Novas variáveis para o tema verde */
  --primary-green: #317b3c;
  --light-green: #d1edb7;
  --green-hover: #255f38;
  --green-text: #1a3d1f;

  /* ---------- Modal ---------- */
  --modal-overlay-bg: rgba(0, 0, 0, 0.5);
  --modal-content-bg: var(--content-bg);
  --modal-border-radius: 16px;
  --modal-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  --modal-close-color: #7f8c8d;

  /* ---------- Espaçamento ---------- */
  --spacing-xs: 0.5rem;
  --spacing-sm: 0.75rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;

  /* ---------- Bordas ---------- */
  --border-radius-sm: 4px;
  --border-radius-md: 8px;
  --border-radius-lg: 16px;

  --primary-color: #317b3c;
  --secondary-color: #d1edb7;
  --text-primary: #2c3e50;
  --text-secondary: #2c3e50;
  --border-color: #e0e0e0;
  --error-color: #e74c3c;
  --background-light: #f8f9fa;
  --spacing-md: 1.5rem;
  --spacing-sm: 0.75rem;
  --radius-md: 8px;
  --transition: all 0.2s ease;

  --success-color: #4caf50;
  --warning-color: #ffc107;
  --danger-color: #f44336;
  --text-disabled: #adb5bd;
  --disabled-bg: #f8f9fa;
  --disabled-bg-rgb: 248, 249, 250;
  --box-shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);

  /* Cores de navegação */
  --navbar-bg-color: #d1edb7;
  --navbar-text-color: #7777;
  --navbar-link-text-color: #7777;
  --sidebar-bg-color: #d1edb7;
  --sidebar-color: #333;
  --usuario-color: #333;
  --sidebar-nav-color: #d1edb7;
  --item-menu-bg: #d1edb7;
  --item-menu-color: #333;

  /* Cores do calendário - Tema Claro */
  --calendar-bg-color: #f0fff0;
  --calendar-controls-bg: #f5f5f5;
  --calendar-day-available-bg: #cdf5d0;
  --calendar-day-blocked-bg: #ffebee;
  --calendar-modal-overlay-bg: rgba(0, 0, 0, 0.5);

  /* Cores de texto do calendário */
  --calendar-text-color: #2c3e50;
  --calendar-text-secondary: #777;
  --calendar-day-number-color: #317b3c;
  --calendar-header-color: #317b3c;
  --calendar-title-color: #317b3c;
  --calendar-event-text-color: #000;
  --calendar-time-text-color: #000;

  /* Cores de botões do calendário */
  --calendar-primary-color: #3788d8;
  --calendar-primary-hover: #2a6fc7;
  --calendar-primary-disabled: #a0c4f3;
  --calendar-button-bg: #8dc643;
  --calendar-button-active-bg: #317b3c;
  --calendar-button-disabled-bg: #317b3c;
  --calendar-btn-secondary-bg: #f1f1f1;
  --calendar-btn-secondary-hover: #e0e0e0;
  --calendar-btn-secondary-text: #333;
  --calendar-btn-danger-bg: #ff6b6b;
  --calendar-btn-danger-hover: #e74c3c;

  /* Cores de borda */
  --calendar-border-color: #eee;
  --calendar-input-border: #ddd;
  --calendar-input-focus-border: #3788d8;

  /* Espaçamento */
  --calendar-spacing-xs: 5px;
  --calendar-spacing-sm: 8px;
  --calendar-spacing-md: 10px;
  --calendar-spacing-lg: 15px;
  --calendar-spacing-xl: 20px;

  /* Bordas */
  --calendar-border-radius: 8px;
  --calendar-box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  --calendar-modal-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  /*--item-avaibility-bg: ;*/
}

/* =============== TEMA ESCURO =============== */
/* Tema Escuro */
body.dark-mode {
  /* Tema Escuro Futurista - Cores do sistema */
  --body-bg: #18230f;
  --content-bg: #18230f;
  --text-color: #dcdcdc;
  --primary-color: #8ec543;
  --secondary-color: #317d3d;
  --item-avaibility-bg: #18230f;

  /* Cores de navegação */
  --navbar-bg-color: #255f38;
  --navbar-text-color: #ffff;
  --navbar-link-text-color: #ffff;
  --sidebar-bg-color: #255f38;
  --sidebar-color: #333;
  --usuario-color: #ffff;
  --sidebar-nav-color: #255f38;
  --item-menu-bg: #255f38;
  --item-menu-color: #ffff;
  --text-secondary: white;

  /* Cores do calendário - Tema Escuro */
  --calendar-bg-color: #ecdfcc;
  --calendar-controls-bg: #2d2d2d;
  --calendar-day-available-bg: #56c45a33;
  --calendar-day-blocked-bg: #f4433633;
  --calendar-modal-overlay-bg: #000000b3;

  /* Cores de texto do calendário */
  --calendar-text-color: #e0e0e0;
  --calendar-text-secondary: #aaa;
  --calendar-day-number-color: #1e201e;
  --calendar-header-color: #1e201e;
  --calendar-title-color: #1e201e;
  --calendar-event-text-color: #1e201e;
  --calendar-time-text-color: #1e201e;

  /* Cores de botões do calendário */
  --calendar-primary-color: #5c9ce6;
  --calendar-primary-hover: #4a7eb8;
  --calendar-primary-disabled: #3a5a80;
  --calendar-button-bg: #317d3d;
  --calendar-button-active-bg: #8ec543;
  --calendar-button-disabled-bg: #555;
  --calendar-btn-secondary-bg: #3a3a3a;
  --calendar-btn-secondary-hover: #444;
  --calendar-btn-secondary-text: #ddd;
  --calendar-btn-danger-bg: #c53030;
  --calendar-btn-danger-hover: #a52a2a;

  /* Cores de borda */
  --calendar-border-color: #444;
  --calendar-input-border: #555;
  --calendar-input-focus-border: #5c9ce6;
}

.form-control {
  color: var(--text-primary);
}

.calendar-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--calendar-spacing-xl);
}

.custom-calendar {
  background: var(--calendar-bg-color);
  border-radius: var(--calendar-border-radius);
  box-shadow: var(--calendar-box-shadow);
}

/* Estilos para os dias do calendário */
.fc-day {
  transition: background-color 0.3s;
}

.fc-event {
  cursor: pointer;
  border: none !important;
}

.day-available {
  background-color: var(--calendar-day-available-bg) !important;
  cursor: pointer;
}

.day-blocked {
  background-color: var(--calendar-day-blocked-bg) !important;
  opacity: 0.7;
}

.fc .fc-daygrid-day-number {
  color: var(--calendar-day-number-color);
}

.fc .fc-col-header-cell-cushion {
  color: var(--calendar-header-color);
}

.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child),
.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {
  background-color: var(--calendar-button-bg);
  font-weight: bold;
}

.fc .fc-button-group > .fc-button.fc-button-active,
.fc .fc-button-group > .fc-button:active,
.fc .fc-button-group > .fc-button:focus,
.fc .fc-button-group > .fc-button:hover {
  font-weight: bold;
  background-color: var(--calendar-button-active-bg);
}

.fc-toolbar-title {
  color: var(--calendar-title-color);
  text-transform: uppercase;
}

.fc .fc-button-primary:disabled {
  font-weight: bold;
  background-color: var(--calendar-button-disabled-bg);
}

.fc-h-event .fc-event-main {
  color: var(--calendar-event-text-color);
}

.fc-v-event .fc-event-title {
  color: var(--calendar-event-text-color);
}

.fc-timegrid-event .fc-event-time {
  font-weight: bold;
  color: var(--calendar-time-text-color);
}

/* =============== COMPONENTES =============== */
/* ---------- Modal ---------- */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: var(--modal-overlay-bg);
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(4px);
  z-index: 9999 !important;
  padding: var(--spacing-md); /* Adiciona padding para telas pequenas */
}

.sidebar {
  z-index: 100 !important; /* Valor menor que o do modal */
}

.modal-content {
  background: var(--modal-content-bg);
  border-radius: var(--modal-border-radius);
  box-shadow: var(--modal-shadow);
  width: 90%;
  max-width: 1000px;
  max-height: 90vh; /* Limita a altura máxima */
  animation: slideIn 0.3s ease;
  margin: auto; /* Centraliza em telas muito grandes */
  overflow-y: visible !important;
  max-height: none !important;

  /* Estilos para telas pequenas (até 576px) */
  @media (max-width: 576px) {
    width: 95%;
    max-height: 95vh;
    border-radius: var(--border-radius-md); /* Raio menor em telas pequenas */
  }

  /* Estilos para telas médias (576px - 992px) */
  @media (min-width: 576px) and (max-width: 992px) {
    width: 85%;
  }
}

/* Ajustes para o conteúdo interno do modal */
.modal-header,
.modal-footer {
  position: sticky;
  z-index: 10;
}

.modal-header {
  top: 0;
}

.modal-footer {
  bottom: 0;
}

/* ---------- Formulários ---------- */
.form-input {
  width: 100%;
  padding: var(--spacing-sm);
  border: 2px solid var(--border-color);
  border-radius: var(--border-radius-md);
  background: var(--content-bg);
  color: var(--text-color);
  transition: all 0.2s ease;
}

.form-input:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
}

/* ---------- Botões ---------- */
.btn {
  padding: var(--spacing-sm) var(--spacing-lg);
  border-radius: var(--border-radius-md);
  font-weight: 500;
  transition: all 0.2s ease;
  border: none;
  cursor: pointer;
}

.btn-primary {
  background: var(--primary-color);
  color: white;
}

.btn-danger {
  background: var(--danger-color);
  color: white;
}

/* =============== ANIMAÇÕES =============== */
@keyframes slideIn {
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* === novo ==== */

.modal-header {
  padding: var(--spacing-md);
  border-bottom: 1px solid var(--border-color);
  background: var(--primary-color);
}

.modal-title {
  font-size: 1.4rem;
  color: white;
  margin: 0;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Ajustes para o formulário em telas pequenas */
.form-grid {
  display: grid;
  gap: var(--spacing-md);
  padding: var(--spacing-md);

  @media (max-width: 576px) {
    padding: var(--spacing-sm);
    gap: var(--spacing-sm);
  }
}

.form-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--spacing-sm);

  @media (max-width: 576px) {
    grid-template-columns: 1fr; /* Coluna única em telas pequenas */
  }
}

.form-label {
  display: block;
  margin-bottom: 0.5rem;
  color: var(--text-secondary);
  font-weight: 500;
}

.form-input {
  width: 100%;
  padding: var(--spacing-sm);
  border: 2px solid var(--border-color);
  border-radius: var(--radius-md);
  transition: var(--transition);
}

.form-input:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px rgba(49, 123, 60, 0.1);
}

.input-error {
  border-color: var(--error-color) !important;
  background: #fff5f5;
}

.select-wrapper {
  position: relative;
}

.select-arrow {
  position: absolute;
  right: 1rem;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-secondary);
}

/* Melhorias para elementos de seleção em telas pequenas */
.select-wrapper,
.date-picker {
  @media (max-width: 576px) {
    width: 100%;
  }
}

.date-icon {
  position: absolute;
  right: 1rem;
  top: 50%;
  transform: translateY(-50%);
  color: var(--text-secondary);
}

.color-picker {
  display: flex;
  gap: 0.5rem;
}

.color-option {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.2s ease;
  border: 2px solid var(--border-color);
}

.color-option:hover {
  transform: scale(1.1);
}

.color-check {
  color: white;
  font-size: 0.8rem;
  filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.3));
}

.status-badges {
  display: flex;
  gap: 0.5rem;
}

.status-badge {
  padding: 0.5rem 1rem;
  border: 2px solid var(--primary-color);
  border-radius: var(--radius-md);
  background: var(--secondary-color);
  cursor: pointer;
  transition: var(--transition);
  color: var(--text-primary);
}

.status-badge.active {
  background: var(--primary-color);
  color: white;
}

.modal-footer {
  padding: var(--spacing-md);
  border-top: 1px solid var(--border-color);
  background: var(--secondary-color);
}

/* Ajustes para os botões de ação no footer */
.footer-actions {
  display: flex;
  gap: 0.75rem;
  justify-content: flex-end;

  @media (max-width: 576px) {
    flex-direction: column; /* Empilha os botões verticalmente */
    gap: var(--spacing-sm);
  }
}

.btn {
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-md);
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  transition: var(--transition);

  @media (max-width: 576px) {
    width: 100%; /* Botões ocupam toda a largura */
    justify-content: center;
  }
}

.btn-primary {
  background: var(--primary-color);
  color: white;
}

.btn-primary:disabled {
  background: #255f38 !important;
}

.btn-primary:hover {
  background: #255f38;
}

.btn-secondary {
  background: var(--background-light);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}

.btn-danger {
  background: var(--error-color);
  color: white;
}

@keyframes slideIn {
  from {
    transform: translateY(-20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Estilos para o seletor de cores */
.color-option {
  position: relative;
  border: 2px solid transparent;
  transition: all 0.2s ease;
}

.color-option.selected {
  border: 2px solid var(--primary-color);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  transform: scale(1.1);
}

.color-option.selected::after {
  content: "";
  position: absolute;
  top: -4px;
  left: -4px;
  right: -4px;
  bottom: -4px;
  border: 1px solid var(--secondary-color);
  border-radius: 50%;
}

.color-option:hover {
  transform: scale(1.05);
}

.color-check {
  position: relative;
  z-index: 1;
  filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.3));
}

/* Melhoria de acessibilidade para cores claras */
.color-option[style*="background-color: #fff"],
.color-option[style*="background-color: #ffffff"],
.color-option[style*="background-color: #f8f9fa"] {
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.color-option[style*="background-color: #fff"].selected,
.color-option[style*="background-color: #ffffff"].selected,
.color-option[style*="background-color: #f8f9fa"].selected {
  border: 2px solid var(--primary-color);
}

.availability-info {
  margin-bottom: var(--spacing-lg);
  padding: var(--spacing-md);
  background: var(--secondary-color);
  border-radius: var(--border-radius-md);
  border: 2px solid var(--primary-color);
}

.availability-list {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-sm);
  margin-top: var(--spacing-sm);
  @media (max-width: 576px) {
    flex-direction: column; /* Empilha os itens verticalmente */
  }
}

.availability-item {
  background: var(--item-avaibility-bg);
  padding: var(--spacing-xs) var(--spacing-sm);
  border-radius: var(--border-radius-sm);
  box-shadow: var(--box-shadow-sm);
  border: 1px solid var(--primary-color);
  display: flex;
  align-items: center;
  transition: var(--transition);
}

.availability-item:hover {
  transform: translateY(-2px);
}

.day-name {
  font-weight: 600;
  margin-right: var(--spacing-xs);
  color: var(--primary-color);
  font-size: 0.95em;
}

.time-range {
  color: var(--text-secondary);
  font-size: 0.9em;
  letter-spacing: 0.5px;
}

/* Eventos do calendário */
:deep(.fc-event.confirmado) {
  background-color: var(--success-color) !important;
  border-color: var(--success-color) !important;
  opacity: 0.9;
}

:deep(.fc-event.pendente) {
  background-color: var(--warning-color) !important;
  border-color: var(--warning-color) !important;
}

:deep(.fc-event.recusado) {
  background-color: var(--danger-color) !important;
  border-color: var(--danger-color) !important;
  text-decoration: line-through;
  opacity: 0.7;
}

/* Ajustes gerais do FullCalendar */
:deep(.fc-h-event) {
  border: none !important;
  box-shadow: var(--box-shadow-sm);
}

/* Formulários */
.form-group {
  margin-bottom: var(--spacing-md);
}

.form-input {
  width: 100%;
  padding: var(--spacing-sm);
  border: 2px solid var(--border-color);
  border-radius: var(--border-radius-sm);
  transition: var(--transition);
}

/* Dias bloqueados */
:deep(.day-blocked) {
  background: repeating-linear-gradient(
    45deg,
    var(--disabled-bg),
    var(--disabled-bg) 10px,
    var(--border-color) 10px,
    var(--border-color) 20px
  ) !important;
  opacity: 0.6;
}

:deep(.day-blocked .fc-daygrid-day-number) {
  color: var(--text-disabled) !important;
}

:deep(.day-blocked .fc-daygrid-day-frame) {
  background-color: rgba(var(--disabled-bg-rgb), 0.5) !important;
}

/* =============== AJUSTES RESPONSIVOS DO MODAL =============== */
/* (Mantendo todos os estilos originais intactos) */

/* Extra small devices (phones, 600px and down) */
@media only screen and (max-width: 600px) {
  .modal-overlay {
    padding: var(--spacing-sm);
    align-items: flex-start;
  }

  .modal-content {
    width: 96%;
    margin-top: var(--spacing-md);
    margin-bottom: var(--spacing-md);
  }

  .form-row {
    grid-template-columns: 1fr;
  }

  .footer-actions {
    flex-direction: column;
  }
}

/* Small devices (portrait tablets and large phones, 600px and up) */
@media only screen and (min-width: 600px) and (max-width: 767px) {
  .modal-content {
    width: 92%;
  }
}

/* Medium devices (landscape tablets, 768px and up) */
@media only screen and (min-width: 768px) and (max-width: 991px) {
  .modal-content {
    width: 88%;
  }
}

/* Large devices (laptops/desktops, 992px and up) */
@media only screen and (min-width: 992px) and (max-width: 1199px) {
  .modal-content {
    width: 85%;
  }
}

/* Extra large devices (large laptops and desktops, 1200px and up) */
@media only screen and (min-width: 1200px) {
  .modal-content {
    width: 80%;
    max-width: 1000px;
  }
}

/* ALTERNATIVA 1: Aumentar a altura máxima quando couber */
@media only screen and (min-height: 800px) {
  .modal-content {
    max-height: 95vh;
  }
}

/* ALTERNATIVA 2: Reduzir espaçamentos internos em telas pequenas */
@media only screen and (max-height: 700px) {
  .modal-content {
    --spacing-md: 0.75rem;
  }
}

/* ALTERNATIVA 3: Remover rolagem APENAS quando o conteúdo couber */
.modal-content {
  overflow-y: auto; /* Mantém como está */
}

.modal-content.no-scroll {
  overflow-y: visible; /* Classe adicional para casos específicos */
}
